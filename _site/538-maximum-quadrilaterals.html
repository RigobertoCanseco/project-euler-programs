<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>538 Maximum Quadrilaterals</title>

  <!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="538 Maximum Quadrilaterals" />
<meta name="author" content="Rigoberto Canseco" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Problem 538 https://projecteuler.net/problem=538" />
<meta property="og:description" content="Problem 538 https://projecteuler.net/problem=538" />
<link rel="canonical" href="http://localhost:4000/project-euler-problems/538-maximum-quadrilaterals.html" />
<meta property="og:url" content="http://localhost:4000/project-euler-problems/538-maximum-quadrilaterals.html" />
<meta property="og:site_name" content="Project Euler" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-02-11T00:00:00-06:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"538 Maximum Quadrilaterals","dateModified":"2021-02-11T00:00:00-06:00","datePublished":"2021-02-11T00:00:00-06:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/project-euler-problems/538-maximum-quadrilaterals.html"},"author":{"@type":"Person","name":"Rigoberto Canseco"},"description":"Problem 538 https://projecteuler.net/problem=538","url":"http://localhost:4000/project-euler-problems/538-maximum-quadrilaterals.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/project-euler-problems/feed.xml" title="Project Euler" />

  <link rel="shortcut icon" type="image/x-icon" href="/project-euler-problems/logo.png" />
  <link rel="stylesheet" href="/project-euler-problems/assets/css/main.css" />
  <link rel="stylesheet" href="/project-euler-problems/assets/css/syntax.css" type="text/css" /><script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true,
    },
    CommonHTML: {
      scale: 70,
    }
  });
</script>
<script type="text/javascript" async
        src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></head><body a="auto">
    <main class="page-content" aria-label="Content">
      <div class="w">
        <a href="/project-euler-problems/"><=</a>

<article>
  <h1>538 Maximum Quadrilaterals</h1>

  <p><strong>Problem 538</strong><br />
<a href="https://projecteuler.net/problem=538">https://projecteuler.net/problem=538</a></p>

<p>Consider a positive integer sequence <var>S</var> = (<var>s</var><sub>1</sub>, <var>s</var><sub>2</sub>, ..., <var>s<sub>n</sub></var>).</p>

<p>Let f(<var>S</var>) be the perimeter of the maximum-area quadrilateral whose side lengths are 4 elements (<var>s<sub>i</sub></var>, <var>s<sub>j</sub></var>, <var>s<sub>k</sub></var>, <var>s<sub>l</sub></var>) of <var>S</var> (all <var>i</var>, <var>j</var>, <var>k</var>, <var>l</var> distinct). If there are many quadrilaterals with the same maximum area, then choose the one with the largest perimeter.</p>

<p>For example, if <var>S</var> = (8, 9, 14, 9, 27), then we can take the elements (9, 14, 9, 27) and form an <dfn title="An isosceles trapezium (US: trapezoid) is a quadrilateral where one pair of opposite sides are parallel and of different lengths, and the other pair has the same length."><b>isosceles trapezium</b></dfn> with parallel side lengths 14 and 27 and both leg lengths 9. The area of this quadrilateral is 127.611470879... It can be shown that this is the largest area for any quadrilateral that can be formed using side lengths from <var>S</var>. Therefore, f(<var>S</var>) = 9 + 14 + 9 + 27 = 59.</p>

<p>Let <var>u<sub>n</sub></var> = 2<sup>B(3<var>n</var>)</sup> + 3<sup>B(2<var>n</var>)</sup> + B(<var>n</var>+1), where B(<var>k</var>) is the number of 1 bits of <var>k</var> in base 2.<br />
For example, B(6) = 2, B(10) = 2 and B(15) = 4, and <var>u</var><sub>5</sub> = 2<sup>4</sup> + 3<sup>2</sup> + 2 = 27.</p>

<p>Also, let <var>U<sub>n</sub></var> be the sequence (<var>u</var><sub>1</sub>, <var>u</var><sub>2</sub>, ..., <var>u<sub>n</sub></var>).<br />
For example, <var>U</var><sub>10</sub> = (8, 9, 14, 9, 27, 16, 36, 9, 27, 28).</p>

<p>It can be shown that f(<var>U</var><sub>5</sub>) = 59, f(<var>U</var><sub>10</sub>) = 118, f(<var>U</var><sub>150</sub>) = 3223.<br />
It can also be shown that <span style="font-size:larger;"><span style="font-size:larger;">∑</span></span> f(<var>U<sub>n</sub></var>) = 234761 for 4 ≤ n ≤ 150.<br />
Find <span style="font-size:larger;"><span style="font-size:larger;">∑</span></span> f(<var>U<sub>n</sub></var>) for 4 ≤ n ≤ 3 000 000.</p>
<hr />

</article>
      </div>
    </main>
    
  </body>
</html>